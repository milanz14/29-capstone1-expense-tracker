{% extends 'base.html' %}

{% block title %}All Transactions Detail{% endblock %}

{% block content %}
    <div class="d-flex justify-content-center my-3">
        {% for msg in get_flashed_messages() %}
            {{ msg }}
        {% endfor %}
    </div>
    <div class="d-flex justify-content-center my-3">
        <h2 class="my-3">Here are your most recent transactions, {{ user.username }}!</h2>
    </div>
    <div class="d-flex justify-content-center my-3">
        <h4 class="my-3">To view a list of all Transactions, click the 'All Transactions' link in the navigation bar.</h4>
    </div>
    
    <div class="row justify-content-center">
        <div class="col-8">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th scope="col">Location</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Category</th>
                        <th scope="col">Date</th>
                    </tr>
                </thead>
                <tbody>
                    {% for transaction in user.transactions %}
                    <tr scope="row">
                        <td> {{ transaction.location }}</td>
                        <td> {{ transaction.amount }}</td>
                        <td> {{ transaction.category }}</td>
                        <td> {{ transaction.date }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div class="d-flex justify-content-center my-3">
        <a class="btn btn-warning" href="/users/{{ user.id }}/transactions/new">New Item</a>
    </div>
{% endblock %}